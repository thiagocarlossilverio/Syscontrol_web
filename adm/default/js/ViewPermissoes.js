$(document).ready(function () {    $("#accordion").accordion({        collapsible: true    });            $('input[name=perfil]:checkbox').change(function () {        var perfil = $(this).val();        var id = $(this).parent().data('id');        $.ajax({            url: '/admin/permissoes/ajax-perfil/',            type: 'POST',            dataType: 'json',            data: {                id: id,                perfil: perfil            }        }).done(function (data) {                   });    });});function maximoCheckboxarCheckbox(nome, maximoCheckbox) {    for (var i = 0; i < nome.length; i++) {        nome[i].onclick = function () {            var num_marcados = 0;            for (var i = 0; i < nome.length; i++)                num_marcados += (nome[i].checked) ? 1 : 0            if (num_marcados > maximoCheckbox) {                nome.prop('checked', false);                // this.checked = false;            }        }    }}function ReturnURL() {    var URL = window.location.href;    var result = URL.split('/');    return result[4];}function BuscaAjax() {    $arr = new Object();    $('.list-by-search').html('<img src="/assets/images/icon/ajax-loader.gif"> loading...');    $arr[$('#tipo').attr('name')] = $('#tipo').val();    $(".container-form :text").each(function () {        if ($(this).attr('name'))            $arr[$(this).attr('name')] = $(this).val();    });    $(".container-form select").each(function () {        $arr[$(this).attr('name')] = $(this).val();    });    $(".container-form input[type=checkbox]:checked").each(function () {        $checkbox.push($(this).val());        $arr[$(this).attr('name')] = find_duplicates($checkbox);    });    console.log($arr);    $.ajax({        url: "/imoveis/ajax-busca",        type: "GET",        dataType: 'html',        data: $arr,        success: function (data) {            $('.list-by-search').html(data);        }    });}function find_duplicates(arr) {    var len = arr.length,            out = [],            counts = {};    for (var i = 0; i < len; i++) {        var item = arr[i];        var count = counts[item];        counts[item] = counts[item] >= 0 ? counts[item] + 1 : 1;    }    for (var item in counts) {        if (counts[item] > 0)            out.push(item);    }    return out;}